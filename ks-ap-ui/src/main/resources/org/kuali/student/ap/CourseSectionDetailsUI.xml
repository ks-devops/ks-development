<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

    <bean id="CourseDetails-FormView" parent="CourseDetails-FormView-parent"/>
    <bean abstract="true" id="CourseDetails-FormView-parent" parent="KSAPBaseFormView">
        <property name="viewHelperServiceClass"
                  value="org.kuali.student.ap.coursesearch.service.impl.CourseDetailsViewHelperServiceImpl"/>
        <property name="id" value="CourseDetails-FormView"/>
        <property name="cssClasses">
            <list merge="true">
                <value>ksap-view</value>
            </list>
        </property>
        <property name="additionalCssFiles">
            <list>
                <value>themes/ksapboot/stylesheets/ksap.coursedetails.css</value>
            </list>
        </property>
        <property name="additionalScriptFiles">
            <list>
                <value>themes/ksapboot/scripts/ksap.search.details.js</value>
            </list>
        </property>
        <property name="items">
            <list>
                <bean parent="Ksap-Page" p:id="coursedetails-page">
                    <property name="cssClasses">
                        <list merge="true">
                        </list>
                    </property>
                    <property name="layoutManager">
                        <bean parent="Uif-VerticalBoxLayout"/>
                    </property>
                    <property name="items">
                        <list>
                            <bean parent="Uif-HeaderThree" p:id="courseCodeTitle"
                                  p:headerText="@{#textHelper.getFormattedMessage('details.course.section.title', new Object[]{courseCode})}"/>
                            <ref bean="course-term-list"/>
                            <ref bean="KSAP-CourseSectionDetails-PlannedSection-Template"/>
                        </list>
                    </property>
                    <property name="stickyFooter" value="false"/>
                </bean>
            </list>
        </property>
        <property name="footer.render" value="false"/>
        <property name="persistFormToSession" value="true"/>
        <property name="formClass" value="org.kuali.student.ap.coursesearch.form.CourseSectionDetailsDialogForm"/>
    </bean>
    <bean id="course-term-list" parent="course-term-list-parent">
        <property name="cssClasses">
            <list merge="true">
                <value>ksap-course-sections</value>
            </list>
        </property>
    </bean>
    <bean id="course-term-list-parent" abstract="true" parent="Uif-ListCollectionSection">
        <property name="collectionObjectClass"
                  value="org.kuali.student.ap.coursesearch.dataobject.CourseTermDetailsWrapper"/>
        <property name="renderAddLine" value="false"/>
        <property name="renderLineActions" value="false"/>
        <property name="disclosure.render" value="true"/>
        <property name="propertyName" value="courseTermDetailsWrappers"/>
        <!-- Disclosure items REQUIRE a summary title to work correctly -->
        <property name="layoutManager.lineGroupPrototype.header.render" value="true"/>
        <property name="layoutManager.lineGroupPrototype.header.additionalCssClasses"
                  value="@{#line.getTermAbbreviation()}"/>
        <property name="layoutManager.lineGroupPrototype.disclosure.id" value="@{#line.getTermId()}_disclosure"/>
        <property name="layoutManager.lineGroupPrototype.disclosure.render" value="true"/>
        <property name="layoutManager.lineGroupPrototype.disclosure.renderIcon" value="true"/>
        <property name="layoutManager.lineGroupPrototype.disclosure.collapsedIconClass"
                  value="ks-fontello-icon-right-open"/>
        <property name="layoutManager.lineGroupPrototype.disclosure.expandedIconClass"
                  value="ks-fontello-icon-down-open"/>
        <property name="layoutManager.summaryTitle"
                  value="@{#line.termName} [css='ksap-text-small']@{#textHelper.getFormattedMessage(#line.courseOfferingDetailsWrappers.size() == 1 ? 'details.term.coSummary.1' : 'details.term.coSummary.many', new Object[]{#line.courseOfferingDetailsWrappers.size()})}[/css]"/>
        <property name="layoutManager.lineGroupPrototype.disclosure.defaultOpen" value="@{#index==0}"/>
        <property name="subCollections">
            <list>
                <ref bean="course-offering-list"/>
            </list>
        </property>
        <property name="onDocumentReadyScript" value="registerCourseSectionEvents(jQuery('#coursedetails-page'));"/>
    </bean>
    <bean id="course-offering-list" parent="course-offering-list-parent"/>
    <bean id="course-offering-list-parent" abstract="true" parent="Uif-ListCollectionSection">
        <property name="collectionObjectClass"
                  value="org.kuali.student.ap.coursesearch.dataobject.CourseOfferingDetailsWrapper"/>
        <property name="renderAddLine" value="false"/>
        <property name="renderLineActions" value="false"/>
        <property name="disclosure.render" value="true"/>
        <property name="propertyName" value="courseOfferingDetailsWrappers"/>
        <property name="layoutManager.lineGroupPrototype.header.render" value="true"/>
        <property name="layoutManager.lineGroupPrototype.disclosure.render" value="true"/>
        <!-- The below finalizeMethodToCall will handle turning on/off the rendering of the disclosure based on how many COs there are "/>-->
        <property name="layoutManager.lineGroupPrototype.disclosure.finalizeMethodToCall" value="determineDisclosureRendering"/>
        <property name="layoutManager.lineGroupPrototype.disclosure.renderIcon" value="true"/>
        <property name="layoutManager.lineGroupPrototype.disclosure.collapsedIconClass"
                  value="ks-fontello-icon-right-open"/>
        <property name="layoutManager.lineGroupPrototype.disclosure.expandedIconClass"
                  value="ks-fontello-icon-down-open"/>
        <property name="layoutManager.summaryTitle"
                  value="@{#textHelper.getFormattedMessage('details.courseOffering.header', new Object[]{#line.courseOfferingCode, #line.courseOfferingTitle, #line.creditsDisplay})} @{#line.plannedActivityDetailsWrappers.size() > 0 ? '[css=''ksap-section-planned-marker ksap-section-planned ks-fontello-icon-ok-circled'']'+#textHelper.getText('details.courseOffering.header.planned') + '[/css]' : '[css=''ksap-section-planned-marker ksap-section-planned ks-fontello-icon-ok-circled ksap-hide'']'+#textHelper.getText('details.courseOffering.header.planned') + '[/css]'} "/>
        <property name="layoutManager.lineGroupPrototype.disclosure.defaultOpen" value="false"/>
        <property name="cssClasses">
            <list merge="true">
                <value>ksap-section-courses</value>
            </list>
        </property>
        <property name="onDocumentReadyScript" value="checkboxSelectAndHighlight();"/>
        <!-- property to activate disclosure -->
        <property name="items">
            <list>
                <bean parent="Uif-MessageField" p:render="@{#line.honors}" p:id="courseOfferingHonors"
                      p:messageText="[b]@{#textHelper.getText('details.course.honors.label')}[/b]">
                    <property name="cssClasses">
                        <list merge="true">
                            <value>ksap-section-honors</value>
                        </list>
                    </property>
                </bean>
                <bean parent="Uif-MessageField" p:render="@{#line.courseRequisites.size() > 0}" p:id="courseOfferingRequisites"
                      p:messageText="[b]@{#textHelper.getText('details.course.requisites.label')}:[/b] @{#line.courseRequisites}">
                    <property name="cssClasses">
                        <list merge="true">
                            <value>ksap-section-requisites</value>
                        </list>
                    </property>
                </bean>
                <bean parent="Uif-MessageField" p:id="courseOfferingDescription"
                      p:messageText="[b]@{#textHelper.getText('details.course.description.label')}:[/b] @{#line.courseOfferingDescription}">
                    <property name="cssClasses">
                        <list merge="true">
                            <value>ksap-section-description</value>
                        </list>
                    </property>
                </bean>

                <bean parent="Uif-VerticalFieldGroup">
                    <property name="items">
                        <list>
                            <ref bean="KSAP-CourseSectionDetails-PlannedSections"/>
                            <ref bean="planned-activities-list"/>
                        </list>
                    </property>
                </bean>

                <bean parent="Uif-VerticalFieldGroup" p:fieldLabel.renderColon="false"
                      p:render="@{#line.formatOfferingInfoWrappers.size()>1}"
                      p:label="@{#textHelper.getFormattedMessage('details.courseOffering.formats', new Object[]{#line.formatOfferingInfoWrappers.size()})}">
                    <property name="items">
                        <list>

                            <bean parent="Uif-InputField" p:label="@{#textHelper.getText('details.courseOffering.format.options')}"
                                  p:id="@{#line.termId}_@{#line.courseOfferingCode}_formatOfferingOptions"
                                  p:propertyName="selectedFormatOfferingId"
                                  p:width="auto">
                                <property name="control">
                                    <bean parent="Uif-VerticalRadioControl" />
                                    <!--<bean parent="Uif-KeyLabelPair" p:key="@{#line.formatId}" p:value="@{#line.formatName}"/>-->
                                </property>
                                <property name="optionsFinder">
                                    <bean class="org.kuali.student.ap.coursesearch.util.FormatOfferingOptionsFinder" p:addBlankOption="false"/>
                                </property>
                                <property name="dataAttributes">
                                    <map>
                                        <entry key="termId" value="@{#line.termId}" />
                                        <entry key="courseOfferingId" value="@{#line.courseOfferingId}" />
                                    </map>
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
        <property name="subCollections">
            <list>
                <ref bean="format-offering-list"/>
            </list>
        </property>
    </bean>

    <bean id="format-offering-list" parent="format-offering-list-parent"/>
    <bean id="format-offering-list-parent" abstract="true" parent="Uif-ListCollectionSection">
        <property name="collectionObjectClass"
                  value="org.kuali.student.ap.coursesearch.dataobject.FormatOfferingInfoWrapper"/>
        <property name="renderAddLine" value="false"/>
        <property name="renderLineActions" value="false"/>
        <property name="disclosure.render" value="false"/>
        <property name="propertyName" value="formatOfferingInfoWrappers"/>
        <property name="layoutManager.lineGroupPrototype.header.render" value="true"/>
        <!--<property name="layoutManager.lineGroupPrototype.progressiveRender" value="@{#parent.context.size() eq 1 or #lp.selectedFormatOfferingId eq #line.formatOfferingId}"/>-->
        <property name="layoutManager.lineGroupPrototype.progressiveRender" value="@{#parentLine.formatOfferingInfoWrappers.size() eq 1 or #parentLine.selectedFormatOfferingId eq #line.formatOfferingId}"/>
        <property name="layoutManager.lineGroupPrototype.disclosure.render" value="false"/>

        <!-- property to activate disclosure -->
        <property name="cssClasses">
            <list merge="true">
                <value>ksap-section-format</value>
            </list>
        </property>
        <property name="items">
            <list>
                <!--<bean parent="Uif-MessageField" p:messageText="@{#line.formatOfferingId}"/>-->
                <!--<bean parent="Uif-MessageField" p:messageText="@{#line.formatOfferingName} (@{#line.activityFormatDetailsWrappers.size()})">-->
                    <!--<property name="cssClasses">-->
                        <!--<list merge="true">-->
                            <!--<value>ksap-section-format-title</value>-->
                        <!--</list>-->
                    <!--</property>-->
                <!--</bean>-->
            </list>
        </property>
        <property name="subCollections">
            <list>
                <ref bean="format-list"/>
            </list>
        </property>
    </bean>

    <bean id="format-list" parent="format-list-parent"/>
    <bean id="format-list-parent" abstract="true" parent="Uif-ListCollectionSection">
        <property name="collectionObjectClass"
                  value="org.kuali.student.ap.coursesearch.dataobject.ActivityFormatDetailsWrapper"/>
        <property name="renderAddLine" value="false"/>
        <property name="renderLineActions" value="false"/>
        <property name="disclosure.render" value="false"/>
        <property name="propertyName" value="activityFormatDetailsWrappers"/>
        <property name="layoutManager.lineGroupPrototype.header.render" value="true"/>
        <!-- property to activate disclosure -->
        <property name="cssClasses">
            <list merge="true">
                <value>ksap-section-format</value>
            </list>
        </property>
        <property name="items">
            <list>
                <bean parent="Uif-MessageField" p:messageText="@{#line.formatName} (@{#line.activityOfferingDetailsWrappers.size()})"
                        p:id="@{#line.termId}_@{#line.courseOfferingCode}_@{#line.formatOfferingId}_@{#line.formatType}">
                    <property name="cssClasses">
                        <list merge="true">
                            <value>ksap-section-format-title</value>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
        <property name="subCollections">
            <list>
                <ref bean="activity_offering_table"/>
            </list>
        </property>
    </bean>

    <bean id="KSAP-CourseSectionDetails-PlannedSections" parent="Uif-StackedCollectionGroup">
        <property name="validationMessages.displayMessages" value="false" />
        <property name="header">
            <bean parent="Uif-HeaderFour"/>
        </property>
        <property name="collectionLookup">
            <bean parent="Uif-QuickFinder">
                <property name="render" value="false"/>
            </bean>
        </property>
        <property name="headerText"
                  value="@{#textHelper.getFormattedMessage('details.regGroup.header', new Object[]{#line.plannedGroupsCount})}"/>
        <property name="collectionObjectClass"
                  value="org.kuali.student.ap.coursesearch.dataobject.ActivityOfferingDetailsWrapper"/>
        <property name="propertyName" value="plannedActivityDetailsWrappers"/>
        <property name="renderAddLine" value="false" />
        <property name="renderLineActions" value="false" />
        <property name="bindingInfo.bindToForm" value="true" />
        <property name="disclosure.render" value="false" />
        <property name="layoutManager">
            <bean parent="Uif-StackedCollectionLayout-WithBoxItems">
                <property name="lineGroupPrototype">
                    <bean parent="Uif-CollectionHorizontalBoxItem" />
                </property>
            </bean>
        </property>
        <property name="header.lowerGroup">
            <bean parent="Uif-HorizontalBoxGroup">
                <property name="items">
                    <list>
                        <bean parent="Uif-MessageField" p:messageText="Type"/>
                        <bean parent="Uif-MessageField" p:messageText="Code"/>
                        <bean parent="Uif-MessageField" p:messageText="Instructor"/>
                        <bean parent="Uif-MessageField" p:messageText="Days"/>
                        <bean parent="Uif-MessageField" p:messageText="Time"/>
                        <bean parent="Uif-MessageField" p:messageText="Location"/>
                        <bean parent="Uif-MessageField" p:messageText="Seats Open"/>
                        <bean parent="Uif-MessageField" p:messageText="Additional Details"/>
                    </list>
                </property>
            </bean>
        </property>
        <property name="items">
            <list>
                <bean parent="Uif-VerticalFieldGroup">
                    <property name="items">
                        <list>
                            <bean parent="Uif-MessageField"
                                  p:messageText="@{#textHelper.getFormattedMessage('details.regGroup.code', new Object[]{#line.regGroupCode})}"
                                  p:labelRendered="true">
                            </bean>
                            <bean parent="Uif-HorizontalBoxGroup">
                                <property name="items">
                                    <list>
                                        <!--p:label="@{#textHelper.getText('details.ao.header.type')}"-->
                                        <bean parent="Uif-MessageField"
                                              p:additionalCssClasses="ksap-section-type"
                                              p:id="type"
                                              p:label="Type"
                                              p:messageText="@{#line.activityFormatName}"
                                              p:labelRendered="true">
                                        </bean>
                                        <!--p:label="@{#textHelper.getText('details.ao.header.code')}"-->
                                        <bean parent="Uif-MessageField"
                                              p:additionalCssClasses="ksap-section-code"
                                              p:id="code"
                                              p:label="Code"
                                              p:labelRendered="true"
                                              p:messageText="@{#line.activityOfferingCode}">
                                        </bean>
                                        <!--p:label="@{#textHelper.getText('details.ao.header.instructor')}" p:additionalCssClasses="nowrap"-->
                                        <bean parent="Uif-DataField"
                                              p:additionalCssClasses="ksap-section-instructor"
                                              p:id="instructor"
                                              p:label="Instructor"
                                              p:labelRendered="true"
                                              p:propertyName="instructorName">
                                        </bean>
                                        <!--p:label="@{#textHelper.getText('details.ao.header.days')}"-->
                                        <bean parent="Uif-MessageField"
                                              p:additionalCssClasses="ksap-section-days"
                                              p:id="days"
                                              p:label="Days"
                                              p:labelRendered="true"
                                              p:messageText="@{#line.days}">
                                        </bean>
                                        <!--p:label="@{#textHelper.getText('details.ao.header.time')}"-->
                                        <bean parent="Uif-MessageField"
                                              p:additionalCssClasses="ksap-section-time"
                                              p:id="time"
                                              p:label="Time"
                                              p:labelRendered="true"
                                              p:messageText="@{#line.time}">
                                        </bean>
                                        <!--p:label="@{#textHelper.getText('details.ao.header.location')}"-->
                                        <bean parent="Uif-MessageField"
                                              p:additionalCssClasses="ksap-section-location"
                                              p:id="location"
                                              p:label="Location"
                                              p:labelRendered="true"
                                              p:messageText="@{#line.location}">
                                        </bean>
                                        <!--p:label="@{#textHelper.getText('details.ao.header.seats')}"-->
                                        <bean parent="Uif-MessageField"
                                              p:additionalCssClasses="ksap-section-seats"
                                              p:id="seats"
                                              p:label="Seats Open"
                                              p:labelRendered="true"
                                              p:messageText="@{#line.currentEnrollment}/@{#line.maxEnrollment}">
                                        </bean>
                                        <!--@{#textHelper.getText('details.ao.header.additionalDetails')} -->
                                        <bean parent="Uif-FieldGroupBase"
                                              p:fieldLabel.labelText="Additional Details"
                                              p:labelRendered="true"
                                              p:id="additionalDetails"
                                              p:additionalCssClasses="ksap-section-details">
                                            <property name="items">
                                                <list>
                                                    <bean parent="Uif-Message" p:render="@{#line.honors==true}" p:id="honors"
                                                          p:additionalCssClasses="ksap-section-details-item"
                                                          p:messageText="@{#textHelper.getText('details.ao.additionalDetails.honors')}"/>
                                                    <bean parent="Uif-Link" p:render="@{#line.classUrl != null}" p:id="classUrl"
                                                          p:additionalCssClasses="ksap-section-details-item"
                                                          p:href="@{#line.classUrl}"
                                                          p:linkText="@{#textHelper.getText('details.ao.additionalDetails.courseUrl')}"/>
                                                    <bean parent="Uif-Link" p:render="@{#line.requirementsUrl != null}" p:id="requirementsUrl"
                                                          p:additionalCssClasses="ksap-section-details-item"
                                                          p:href="@{#ConfigProperties['application.url']}/@{#line.requirementsUrl}"
                                                          p:linkText="@{#textHelper.getText('details.ao.additionalDetails.restrictions')}"/>
                                                </list>
                                            </property>
                                        </bean>
                                    </list>
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>

            </list>
        </property>
    </bean>

    <bean id="KSAP-CourseSectionDetails-PlannedSection-Template" parent="Uif-VerticalBoxGroup">
        <property name="dataAttributes">
            <map>
                <entry key="open" value="false" />
            </map>
        </property>
        <property name="items">
            <list>
                <bean parent="Uif-VerticalFieldGroup">
                    <property name="items">
                        <list>
                            <bean parent="Uif-MessageField"
                                  p:messageText="@{#textHelper.getFormattedMessage('details.regGroup.code', '__KSAP__REGGROUPCODE__')}"
                                  p:labelRendered="true">
                            </bean>
                            <bean parent="Uif-HorizontalBoxGroup">
                                <property name="items">
                                    <list>
                                        <!--p:label="@{#textHelper.getText('details.ao.header.type')}"-->
                                        <bean parent="Uif-MessageField"
                                              p:additionalCssClasses="ksap-section-type"
                                              p:id="type"
                                              p:label="Type"
                                              p:messageText="__KSAP__ACTIVITYOFFERINGID__"
                                              p:labelRendered="true">
                                        </bean>
                                        <!--p:label="@{#textHelper.getText('details.ao.header.code')}"-->
                                        <bean parent="Uif-MessageField"
                                              p:additionalCssClasses="ksap-section-code"
                                              p:id="code"
                                              p:label="Code"
                                              p:labelRendered="true"
                                              p:messageText="__KSAP__ACTIVITYOFFERINGCODE__">
                                        </bean>
                                        <!--p:label="@{#textHelper.getText('details.ao.header.instructor')}" p:additionalCssClasses="nowrap"-->
                                        <bean parent="Uif-MessageField"
                                              p:additionalCssClasses="ksap-section-instructor"
                                              p:id="instructor"
                                              p:label="Instructor"
                                              p:labelRendered="true"
                                              p:messageText="__KSAP__INSTRUCTOR__">
                                        </bean>
                                        <!--p:label="@{#textHelper.getText('details.ao.header.days')}"-->
                                        <bean parent="Uif-MessageField"
                                              p:additionalCssClasses="ksap-section-days"
                                              p:id="days"
                                              p:label="Days"
                                              p:labelRendered="true"
                                              p:messageText="__KSAP__DAYS__">
                                        </bean>
                                        <!--p:label="@{#textHelper.getText('details.ao.header.time')}"-->
                                        <bean parent="Uif-MessageField"
                                              p:additionalCssClasses="ksap-section-time"
                                              p:id="time"
                                              p:label="Time"
                                              p:labelRendered="true"
                                              p:messageText="__KSAP__TIME__">
                                        </bean>
                                        <!--p:label="@{#textHelper.getText('details.ao.header.location')}"-->
                                        <bean parent="Uif-MessageField"
                                              p:additionalCssClasses="ksap-section-location"
                                              p:id="location"
                                              p:label="Location"
                                              p:labelRendered="true"
                                              p:messageText="__KSAP__LOCATION__">
                                        </bean>
                                        <!--p:label="@{#textHelper.getText('details.ao.header.seats')}"-->
                                        <bean parent="Uif-MessageField"
                                              p:additionalCssClasses="ksap-section-seats"
                                              p:id="seats"
                                              p:label="Seats Open"
                                              p:labelRendered="true"
                                              p:messageText="__KSAP__CURRENTENROLLMENT__/__KSAP__MAXENROLLMENT__">
                                        </bean>
                                        <!--@{#textHelper.getText('details.ao.header.additionalDetails')} -->
                                        <bean parent="Uif-FieldGroupBase"
                                              p:fieldLabel.labelText="Additional Details"
                                              p:labelRendered="true"
                                              p:id="additionalDetails"
                                              p:additionalCssClasses="ksap-section-details">
                                            <property name="items">
                                                <list>
                                                    <bean parent="Uif-Message" p:render="true" p:id="honors"
                                                          p:additionalCssClasses="ksap-section-details-item"
                                                          p:messageText="@{#textHelper.getText('details.ao.additionalDetails.honors')}"/>
                                                    <bean parent="Uif-Link" p:render="true" p:id="classUrl"
                                                          p:additionalCssClasses="ksap-section-details-item"
                                                          p:href="__KSAP__CLASSURL__"
                                                          p:linkText="@{#textHelper.getText('details.ao.additionalDetails.courseUrl')}"/>
                                                    <bean parent="Uif-Link" p:render="true" p:id="requirementsUrl"
                                                          p:additionalCssClasses="ksap-section-details-item"
                                                          p:href="@{#ConfigProperties['application.url']}/__KSAP__REQUIREMENTSURL__"
                                                          p:linkText="@{#textHelper.getText('details.ao.additionalDetails.restrictions')}"/>
                                                </list>
                                            </property>
                                        </bean>
                                    </list>
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="planned-activities-list" parent="activities-list-with-group-summary"
          p:propertyName="plannedActivityDetailsWrappers"
          p:renderHeader="@{#line.plannedGroupsCount>0}">
        <property name="headerText"
                  value="@{#textHelper.getFormattedMessage('details.regGroup.header', new Object[]{#line.plannedGroupsCount})}"/>
        <property name="cssClasses">
            <list merge="true">
                <value>ksap-section-reg</value>
            </list>
        </property>
    </bean>

    <bean id="activities-list-with-group-summary" parent="Uif-TableCollectionSubSection"
          p:renderAddLine="false" p:renderLineActions="false" p:renderHeader="false">
        <property name="layoutManager.groupingTitle"
                  value="@{#textHelper.getFormattedMessage('details.regGroup.code', new Object[]{#line.regGroupCode})}"/>
        <property name="layoutManager.groupingPropertyNames">
            <list>
                <value>regGroupCode</value>
            </list>
        </property>
        <property name="collectionObjectClass"
                  value="org.kuali.student.ap.coursesearch.dataobject.ActivityOfferingDetailsWrapper"/>
        <property name="propertyName" value="activityOfferingDetailsWrappers"/>
        <property name="layoutManager.renderSequenceField" value="false"/>
        <property name="layoutManager.applyDefaultCellWidths" value="false"/>
        <property name="layoutManager.applyAlternatingRowStyles" value="false"/>
        <property name="layoutManager.conditionalRowCssClasses">
            <map>
                <entry key="@{#line.singleFormatOffering}" value="ksap-activity-single"/>
            </map>
        </property>
        <property name="validationMessages" ref="KS-ValidationMessages-Off"/>
        <property name="layoutManager.richTable">
            <bean parent="KS-Uif-RichTable"/>
        </property>
        <property name="layoutManager.richTable.templateOptions">
            <map merge="true">
                <!--<entry key="sDom" value="opir"/>-->
                <!--<entry key="aaSorting" value="[[0, 'asc']]"/>-->
                <entry key="bPaginate" value="false"/>
                <entry key="bAutoWidth" value="false"/>
                <entry key="bFilter" value="false"/>
                <entry key="bInfo" value="false"/>
            </map>
        </property>
        <property name="layoutManager.richTable.disableTableSort" value="true"/>
        <property name="items">
            <list>
                <!--p:label="@{#textHelper.getText('details.ao.header.type')}"-->
                <bean parent="Uif-MessageField"
                      p:additionalCssClasses="ksap-section-type"
                      p:id="type"
                      p:label="Type"
                      p:messageText="@{#line.activityFormatName}"
                      p:render="@{#line.partOfRegGroup==true}">
                </bean>
                <!--p:label="@{#textHelper.getText('details.ao.header.code')}"-->
                <bean parent="Uif-MessageField"
                      p:additionalCssClasses="ksap-section-code"
                      p:id="code"
                      p:label="Code"
                      p:messageText="@{#line.activityOfferingCode}">
                </bean>
                <!--p:label="@{#textHelper.getText('details.ao.header.instructor')}" p:additionalCssClasses="nowrap"-->
                <bean parent="Uif-DataField"
                      p:additionalCssClasses="ksap-section-instructor"
                      p:id="instructor"
                      p:label="Instructor"
                      p:propertyName="instructorName">
                </bean>
                <!--p:label="@{#textHelper.getText('details.ao.header.days')}"-->
                <bean parent="Uif-MessageField"
                      p:additionalCssClasses="ksap-section-days"
                      p:id="days"
                      p:label="Days"
                      p:messageText="@{#line.days}">
                </bean>
                <!--p:label="@{#textHelper.getText('details.ao.header.time')}"-->
                <bean parent="Uif-MessageField"
                      p:additionalCssClasses="ksap-section-time"
                      p:id="time"
                      p:label="Time"
                      p:messageText="@{#line.time}">
                </bean>
                <!--p:label="@{#textHelper.getText('details.ao.header.location')}"-->
                <bean parent="Uif-MessageField"
                      p:additionalCssClasses="ksap-section-location"
                      p:id="location"
                      p:label="Location"
                      p:messageText="@{#line.location}">
                </bean>
                <!--p:label="@{#textHelper.getText('details.ao.header.seats')}"-->
                <bean parent="Uif-MessageField"
                      p:additionalCssClasses="ksap-section-seats"
                      p:id="seats"
                      p:label="Seats Open"
                      p:messageText="@{#line.currentEnrollment}/@{#line.maxEnrollment}">
                </bean>
                <!--@{#textHelper.getText('details.ao.header.additionalDetails')} -->
                <bean parent="Uif-FieldGroupBase"
                      p:fieldLabel.labelText="Additional Details"
                      p:id="additionalDetails"
                      p:additionalCssClasses="ksap-section-details">
                    <property name="items">
                        <list>
                            <bean parent="Uif-Message" p:render="@{#line.honors==true}" p:id="honors"
                                  p:additionalCssClasses="ksap-section-details-item"
                                  p:messageText="@{#textHelper.getText('details.ao.additionalDetails.honors')}"/>
                            <bean parent="Uif-Link" p:render="@{#line.classUrl != null}" p:id="classUrl"
                                  p:additionalCssClasses="ksap-section-details-item"
                                  p:href="@{#line.classUrl}"
                                  p:linkText="@{#textHelper.getText('details.ao.additionalDetails.courseUrl')}"/>
                            <bean parent="Uif-Link" p:render="@{#line.requirementsUrl != null}" p:id="requirementsUrl"
                                  p:additionalCssClasses="ksap-section-details-item"
                                  p:href="@{#ConfigProperties['application.url']}/@{#line.requirementsUrl}"
                                  p:linkText="@{#textHelper.getText('details.ao.additionalDetails.restrictions')}"/>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="activity_offering_table" parent="activity_offering_table_parent"/>

    <bean id="activity_offering_table_parent" parent="Uif-TableCollectionSubSection"
          p:renderAddLine="false" p:renderLineActions="false" p:renderHeader="false">
        <property name="collectionObjectClass"
                  value="org.kuali.student.ap.coursesearch.dataobject.ActivityOfferingDetailsWrapper"/>
        <property name="propertyName" value="activityOfferingDetailsWrappers"/>
        <property name="layoutManager.renderSequenceField" value="false"/>
        <property name="layoutManager.applyDefaultCellWidths" value="false"/>
        <property name="layoutManager.applyAlternatingRowStyles" value="false"/>
        <property name="layoutManager.conditionalRowCssClasses">
          <map>
              <entry key="@{#line.singleFormatOffering}" value="ksap-activity-single"/>
          </map>
        </property>
        <property name="validationMessages" ref="KS-ValidationMessages-Off"/>
        <property name="layoutManager.richTable">
            <bean parent="KS-Uif-RichTable"/>
        </property>
        <property name="layoutManager.richTable.templateOptions">
            <map merge="true">
                <!--<entry key="sDom" value="opir"/>-->
                <!--<entry key="aaSorting" value="[[0, 'asc']]"/>-->
                <entry key="bPaginate" value="false"/>
                <entry key="bAutoWidth" value="false"/>
                <entry key="bFilter" value="false"/>
                <entry key="bInfo" value="false"/>
            </map>
        </property>
        <property name="layoutManager.richTable.disableTableSort" value="true"/>
        <property name="items">
            <list>
                <!--p:label="@{#textHelper.getText('details.ao.header.type')}"-->
                <bean parent="Uif-MessageField"
                      p:additionalCssClasses="ksap-section-type"
                      p:id="type"
                      p:label="Type"
                      p:messageText="@{#line.activityFormatName}"
                      p:render="@{#line.partOfRegGroup==true}">
                </bean>
                <!--p:label="@{#textHelper.getText('details.ao.header.code')}"-->
                <bean parent="Uif-MessageField"
                      p:additionalCssClasses="ksap-section-code"
                      p:id="code"
                      p:label="Code"
                      p:messageText="@{#line.activityOfferingCode}">
                </bean>
                <!--p:label="@{#textHelper.getText('details.ao.header.instructor')}" p:additionalCssClasses="nowrap"-->
                <bean parent="Uif-DataField"
                      p:additionalCssClasses="ksap-section-instructor"
                      p:id="instructor"
                      p:label="Instructor"
                      p:propertyName="instructorName">
                </bean>
                <!--p:label="@{#textHelper.getText('details.ao.header.days')}"-->
                <bean parent="Uif-MessageField"
                      p:additionalCssClasses="ksap-section-days"
                      p:id="days"
                      p:label="Days"
                      p:messageText="@{#line.days}">
                </bean>
                <!--p:label="@{#textHelper.getText('details.ao.header.time')}"-->
                <bean parent="Uif-MessageField"
                      p:additionalCssClasses="ksap-section-time"
                      p:id="time"
                      p:label="Time"
                      p:messageText="@{#line.time}">
                </bean>
                <!--p:label="@{#textHelper.getText('details.ao.header.location')}"-->
                <bean parent="Uif-MessageField"
                      p:additionalCssClasses="ksap-section-location"
                      p:id="location"
                      p:label="Location"
                      p:messageText="@{#line.location}">
                </bean>
                <!--p:label="@{#textHelper.getText('details.ao.header.seats')}"-->
                <bean parent="Uif-MessageField"
                      p:additionalCssClasses="ksap-section-seats"
                      p:id="seats"
                      p:label="Seats Open"
                      p:messageText="@{#line.currentEnrollment}/@{#line.maxEnrollment}">
                </bean>
                <!--@{#textHelper.getText('details.ao.header.additionalDetails')} -->
                <bean parent="Uif-FieldGroupBase"
                      p:fieldLabel.labelText="Additional Details"
                      p:id="additionalDetails"
                      p:additionalCssClasses="ksap-section-details">
                    <property name="items">
                        <list>
                            <bean parent="Uif-Message" p:render="@{#line.honors==true}" p:id="honors"
                                  p:additionalCssClasses="ksap-section-details-item"
                                  p:messageText="@{#textHelper.getText('details.ao.additionalDetails.honors')}"/>
                            <bean parent="Uif-Link" p:render="@{#line.classUrl != null}" p:id="classUrl"
                                  p:additionalCssClasses="ksap-section-details-item"
                                  p:href="@{#line.classUrl}"
                                  p:linkText="@{#textHelper.getText('details.ao.additionalDetails.courseUrl')}"/>
                            <bean parent="Uif-Link" p:render="@{#line.requirementsUrl != null}" p:id="requirementsUrl"
                                  p:additionalCssClasses="ksap-section-details-item"
                                  p:href="@{#ConfigProperties['application.url']}/@{#line.requirementsUrl}"
                                  p:linkText="@{#textHelper.getText('details.ao.additionalDetails.restrictions')}"/>
                        </list>
                    </property>
                </bean>
                <!--@{#textHelper.getText('details.ao.header.select')}" >-->
                <bean parent="Uif-InputField"
                      p:additionalCssClasses="ksap-section-select"
                      p:propertyName="selected"
                      p:id="select"
                      p:label="Select"
                      p:render="@{#line.partOfRegGroup==false and #line.singleFormatOffering==false}">
                    <property name="control">
                        <bean parent="Uif-CheckboxControl">
                            <property name="onChangeScript" value="alert('checkbox clicked')"/>
                        </bean>
                    </property>
                </bean>
                <bean parent="Uif-FieldGroupBase"
                      p:additionalCssClasses="ksap-section-add"
                      p:fieldLabel.labelText="Add to Plan"
                      p:render="@{#line.singleFormatOffering==true}">
                    <property name="items">
                        <list>
                            <bean parent="Uif-ActionLink" p:render="@{#line.singleFormatOffering==true}">
                                <property name="id" value="@{#line.activityOfferingId}_addLink"/>
                                <property name="cssClasses">
                                    <list>
                                        <value>@{#line.inPlan ? 'ks-fontello-icon-ok-circled' : 'ks-fontello-icon-hollow-circled-plus'}</value>
                                    </list>
                                </property>
                                <property name="actionScript" value="ksapOpenDialog('KSAP-CourseDetailsSection-AddCoursePage','details','startAddDialog', this, e,{regGroupId: '@{#line.regGroupId}'});"/>
                            </bean>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

</beans>
