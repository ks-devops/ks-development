<div class="kscr-SearchDetails">
    <!-- Search Details Header - Back to Results Link -->
    <div class="kscr-SearchDetails-top">
        <a id="returnToSearch" ui-sref="root.search.results({ searchCriteria: searchCriteria })"><span>&lt;&lt;</span> Return to Search Results</a>
    </div>

    <!-- Search Details Content -->
    <div class="kscr-SearchDetails-container">
        <div class="kscr-SearchDetails-header util-Grid util-Grid--center">
            <span class="kscr-SearchDetails-courseCode">{{course.courseOfferingCode}}</span>
            <span class="kscr-SearchDetails-courseTitle util-Grid-cell">{{course.courseOfferingLongName}}</span>
            <span class="kscr-SearchDetails-credits">{{course.creditOptions | creditRangeFormatter}}</span>
        </div>

        <div id="courseDescription" class="kscr-SearchDetails-description">{{course.courseOfferingDesc}}</div>

        <!-- Cross-listed courses -->
        <div class="kscr-SearchDetails-crosslists" ng-if="course.crossListedCourses.length > 0">
            <i class="kscr-SearchDetails-crosslists-icon">CR</i>
            <span class="kscr-SearchDetails-label">Crosslisted as</span>
            <ul>
                <li ng-repeat="crosslist in course.crossListedCourses">{{crosslist.courseOfferingCode}}</li>
            </ul>
        </div>

        <!-- Prerequisites -->
        <div class="kscr-SearchDetails-prerequisites" ng-if="course.prerequisites.length > 0">
            <span class="kscr-SearchDetails-label">Prerequisites:</span>
            <ul>
                <li ng-repeat="prerequisite in course.prerequisites">{{prerequisite}}</li>
            </ul>
        </div>

        <!-- Grading methods -->
        <div class="kscr-SearchDetails-grading">
            <span class="kscr-SearchDetails-label">Grading Methods:</span>
            <ul class="kscr-SearchDetails-grading-methods">
                <li class="kscr-SearchDetails-grading-method" ng-repeat="(key, label) in course.gradingOptions">{{label}}</li>
            </ul>
        </div>

        <!-- Selected Activity Offerings Area -->
        <div class="kscr-SearchDetails-actionsContainer util-Grid util-Grid--center">
            <!-- Selected Messages -->
            <div class="kscr-SearchDetails-selection kscr-SearchDetails-selection--empty util-Grid-cell" ng-if="!selectedRegGroup && !hasSelectedAOs()">
                <span class="kscr-SearchDetails-label">No Activities Selected</span>
            </div>
            <div class="kscr-SearchDetails-selection kscr-SearchDetails-selection--selected util-Grid-cell" ng-if="hasSelectedAOs()"
                 ng-class="{'kscr-SearchDetails-selection--complete' : selectedRegGroup }">
                <div class="kscr-SearchDetails-label" ng-if="!selectedRegGroup">{{selectedAOs.length}} of {{course.activityOfferingTypes.length}} selected</div>
                <div class="kscr-SearchDetails-label" ng-if="selectedRegGroup">Section {{selectedRegGroupCode}} Selected</div>
                <a ng-click="clearSelectedAOs()"><ng-pluralize count="selectedAOs.length" when="{'1': 'Clear Selection', 'other': 'Clear Selections'}"></ng-pluralize></a>
            </div>

            <!-- Actions -->
            <div class="kscr-SearchDetails-actions">
                <form novalidate name="form" ng-submit="addRegGroupIdToCart()">
                <div class="kscr-SearchDetails-button">
                    <button id="search_details_add_to_cart" name="submit" class="kscr-Button" ng-disabled="!selectedRegGroup">Add to Cart</button>
                </div>
                </form>
                <!-- TODO: The success/Failure message needs to be put in here -->
            </div>
        </div>
        </div>

        <!-- Activity Offering Tables -->
        <div class="kscr-SearchDetails-activityOfferingGroups">
            <div class="kscr-SearchDetails-activityOfferingGroup" ng-repeat="aoType in course.activityOfferingTypes">
                <div class="kscr-SearchDetails-label">
                    {{aoType.activityOfferingTypeName}}<ng-pluralize count="aoType.activityOfferings.length" when="{'1' : '', 'other': 's'}">
                </ng-pluralize> ({{aoType.activityOfferings.length}})
                </div>
                <div class="kscr-SearchDetails-activityOfferings">
                    <search-results>
                        <search-column name="Days" field="days" order="1"></search-column>
                        <search-column name="Time" field="time" order="2"></search-column>
                        <search-column name="Instructor" field="instructor" order="3"></search-column>
                        <search-column name="Location" field="location" order="4"></search-column>
                        <search-column name="Seats Open" field="seatsOpen" order="5"></search-column>
                        <search-column name="Select" checkbox="toggleAO"></search-column>
                        <search-list search-data='aoType.activityOfferings' preprocessor='aoFormatter' search-columns='searchColumns' default-field="aoId" display-limit="999"></search-list>
                    </search-results>
                </div>
            </div>
        </div>

</div>
