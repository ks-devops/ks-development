<div class="kscr-SearchDetails"><!-- Search Details Header - Back to Results Link --><div class="kscr-SearchDetails-top"><a ui-sref="root.search.results"><span>&lt;&lt;</span> Return to Search Results</a></div><!-- Search Details Content --><div class="kscr-SearchDetails-container"><div class="kscr-SearchDetails-header util-Grid util-Grid--center"><span class="kscr-SearchDetails-courseCode">{{course.courseCode}}</span> <span class="kscr-SearchDetails-courseTitle util-Grid-cell">{{course.longName}}</span> <span class="kscr-SearchDetails-credits">{{course.creditOptions | creditRangeFormatter}}</span></div><div class="kscr-SearchDetails-description">{{course.description}}</div><!-- Cross-listed courses --><div class="kscr-SearchDetails-crosslists" ng-if="course.crossListedCourses.length > 0"><i class="kscr-SearchDetails-crosslists-icon">CR</i> <span class="kscr-SearchDetails-label">Crosslisted as</span><ul><li ng-repeat="crosslist in course.crossListedCourses"><a>{{crosslist.courseCode}}</a></li></ul></div><!-- Prerequisites --><div class="kscr-SearchDetails-prerequisites" ng-if="course.prerequisites.length > 0"><span class="kscr-SearchDetails-label">Prerequisites:</span><ul><li ng-repeat="prerequisite in course.prerequisites"><a>{{prerequisite.courseCode}}</a></li></ul></div><!-- Grading methods --><div class="kscr-SearchDetails-grading"><span class="kscr-SearchDetails-label">Grading Methods:</span><ul class="kscr-SearchDetails-grading-methods"><li class="kscr-SearchDetails-grading-method" ng-repeat="(key, label) in course.gradingOptions">{{label}}</li></ul></div><!-- Selected Activity Offerings Area --><div class="kscr-SearchDetails-actionsContainer util-Grid util-Grid--center"><!-- Selected Messages --><div class="kscr-SearchDetails-selection kscr-SearchDetails-selection--empty util-Grid-cell" ng-if="!selectedRegGroup && !hasSelectedAOs()"><span class="kscr-SearchDetails-label">No Activities Selected</span></div><div class="kscr-SearchDetails-selection kscr-SearchDetails-selection--selected util-Grid-cell" ng-if="!selectedRegGroup && hasSelectedAOs()" ng-class="{'kscr-SearchDetails-selection--complete' : selectedRegGroup }"><div class="kscr-SearchDetails-label" ng-if="!selectedRegGroup">{{selectedAOs.length}} of {{course.activityOfferingTypes.length}} selected</div><div class="kscr-SearchDetails-label" ng-if="selectedRegGroup">Section {{selectedRegGroup.regGroupId}} Selected</div><a ng-click="clearSelectedAOs()"><ng-pluralize count="selectedAOs.length" when="{'1': 'Clear Selection', 'other': 'Clear Selections'}"></ng-pluralize></a></div><!-- Actions --><div class="kscr-SearchDetails-actions"><div class="kscr-SearchDetails-button"><button id="search_details_add_to_cart" name="submit" class="kscr-Button" ng-disabled="!selectedRegGroup">Add to Cart</button></div><!-- TODO: The success/Failure message needs to be put in here --></div></div><!-- Activity Offering Tables --><div class="kscr-SearchDetails-activityOfferingGroups"><div class="kscr-SearchDetails-activityOfferingGroup" ng-repeat="aoType in course.activityOfferingTypes"><div class="kscr-SearchDetails-label">{{aoType.activityOfferingTypeName}} <span ng-if="isAOTypeSelected(aoType)">(Selected)</span> <span ng-if="!isAOTypeSelected(aoType) && hasSelectedAOs()"><!-- TODO: Replace 1 with actual count of eligible -->(1 of {{aoType.activityOfferings.length}} eligible) <a ng-click="showAll = !showAll" ng-show="aoType.activityOfferings.length > 1"><span ng-if="!showAll">Show All</span> <span ng-if="showAll">Hide ineligible</span></a></span></div><!-- TODO: This is where the AOs tables would go --><div class="kscr-SearchDetails-activityOfferings"><div class="kscr-SearchDetails-activityOffering" ng-repeat="ao in aoType.activityOfferings | filter:aoFilter:showAll"><div ng-click="toggleAO(aoType, ao)" ng-class="{'kscr-SearchDetails-activityOffering--selected' : isAOSelected(ao)}"><strong>{{$index}} - Seats Available:</strong> <span ng-class="{'kscr-SearchDetails-activityOffering-seats--noneAvailable' : ao.seatsAvailable === 0}" class="kscr-SearchDetails-activityOffering-seats">{{ao.seatsAvailable}}/{{ao.seatsOpen}}</span></div></div></div></div></div></div></div>